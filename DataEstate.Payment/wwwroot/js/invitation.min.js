"use strict";(function(n){function o(){return e.form()}var u=n("#pubkey").val(),r=Stripe(u),f=r.elements(),e=n("#frm-subscription").validate(),t=f.create("card",{style:{base:{fontFamily:"Helvetica Neue"}}}),i;t.mount("#stripe-card");t.on("change",function(t){t.error?(n("#stripe-error").text(t.error.message),n("#stripe-error").removeClass("hide")):n("#stripe-error").addClass("hide")});n("#payment-submit").click(function(){if(o()){var u;n("#card-holder").val()!=null&&(u={name:n("#card-holder").val()},n("#card-country").val()!=null&&(u.address_country=n("#card-country").val()));r.createToken(t,u).then(function(t){if(t.error!==undefined)console.log(t.error),n("#stripe-error").text(t.error.message),n("#stripe-error").removeClass("hide");else if(t.token!==undefined&&t.token.card!==undefined){n("#stripe-error").addClass("hide");i=t.token;var r=i.card;n("#customer-name").text(n("#businessName").val());n("#customer-email").text(n("#email").val());n("#customer-card-holder").text(r.name);n("#customer-card-number").text("**** **** **** "+r.last4);n("#customer-card-brand").text(r.brand);n("#customer-card-expiry").text(r.exp_month+"/"+r.exp_year);r.address_country!=null&&n("#customer-card-country").text(r.address_country);n(".modal-body").addClass("show");n("#message-alert").modal("show")}})}});n("#pay-now").click(function(t){t.preventDefault();var r=n("#frm-subscription");r.append('<input type="hidden" value="'+i.id+'" name="token">');console.log(r);r.submit()})})(jQuery);